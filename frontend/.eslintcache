[{"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\App.jsx":"1","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\gallery.jsx":"2","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\segment.jsx":"3","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\input.jsx":"4","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\reportWebVitals.js":"5","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\textarea.jsx":"6","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\checkbox.jsx":"7","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\image.jsx":"8","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\register.jsx":"9","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\index.jsx":"10","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\login.jsx":"11","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\index.jsx":"12","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\index.jsx":"13","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\fetch.js":"14","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\confirm.jsx":"15","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\youtube.js":"16","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\layout.jsx":"17","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\index.jsx":"18","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-media.jsx":"19","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\main\\index.jsx":"20","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-form.jsx":"21","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\left-menu.jsx":"22","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-confirm.jsx":"23","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\rus.js":"24","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\router\\index.jsx":"25","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\subjects.jsx":"26","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\index.jsx":"27","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\labs.jsx":"28","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\constants.js":"29","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\segment-flat.jsx":"30","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\groups.jsx":"31","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\label.jsx":"32","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\check-list.jsx":"33","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-profile.jsx":"34","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\students.jsx":"35","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\student-page.jsx":"36","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\commit-groups.jsx":"37","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\commit-list.jsx":"38","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\commits.jsx":"39","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\works.jsx":"40","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\file.jsx":"41","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\upload.js":"42","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\progress.jsx":"43"},{"size":491,"mtime":1610205823112,"results":"44","hashOfConfig":"45"},{"size":2397,"mtime":1607621789636,"results":"46","hashOfConfig":"45"},{"size":1300,"mtime":1610281101319,"results":"47","hashOfConfig":"45"},{"size":891,"mtime":1609996764503,"results":"48","hashOfConfig":"45"},{"size":375,"mtime":1606961008578,"results":"49","hashOfConfig":"45"},{"size":783,"mtime":1607226775788,"results":"50","hashOfConfig":"45"},{"size":731,"mtime":1607226771327,"results":"51","hashOfConfig":"45"},{"size":998,"mtime":1610294259240,"results":"52","hashOfConfig":"45"},{"size":1876,"mtime":1610422051060,"results":"53","hashOfConfig":"45"},{"size":537,"mtime":1610025755909,"results":"54","hashOfConfig":"45"},{"size":1415,"mtime":1610402316366,"results":"55","hashOfConfig":"45"},{"size":520,"mtime":1606961008578,"results":"56","hashOfConfig":"45"},{"size":2954,"mtime":1610292681145,"results":"57","hashOfConfig":"45"},{"size":993,"mtime":1610402708950,"results":"58","hashOfConfig":"45"},{"size":1802,"mtime":1610026733965,"results":"59","hashOfConfig":"45"},{"size":762,"mtime":1607585833318,"results":"60","hashOfConfig":"45"},{"size":805,"mtime":1609161650137,"results":"61","hashOfConfig":"45"},{"size":2693,"mtime":1610077560253,"results":"62","hashOfConfig":"45"},{"size":2989,"mtime":1607586501336,"results":"63","hashOfConfig":"45"},{"size":1521,"mtime":1610283187834,"results":"64","hashOfConfig":"45"},{"size":1447,"mtime":1610335511834,"results":"65","hashOfConfig":"45"},{"size":963,"mtime":1610077649671,"results":"66","hashOfConfig":"45"},{"size":709,"mtime":1609159659075,"results":"67","hashOfConfig":"45"},{"size":2319,"mtime":1610383617668,"results":"68","hashOfConfig":"45"},{"size":1577,"mtime":1609249048954,"results":"69","hashOfConfig":"45"},{"size":2084,"mtime":1610401141793,"results":"70","hashOfConfig":"45"},{"size":3069,"mtime":1610272484293,"results":"71","hashOfConfig":"45"},{"size":2522,"mtime":1610410329662,"results":"72","hashOfConfig":"45"},{"size":285,"mtime":1609205037337,"results":"73","hashOfConfig":"45"},{"size":694,"mtime":1609205253010,"results":"74","hashOfConfig":"45"},{"size":5971,"mtime":1610421705882,"results":"75","hashOfConfig":"45"},{"size":388,"mtime":1610279781933,"results":"76","hashOfConfig":"45"},{"size":1094,"mtime":1610022926354,"results":"77","hashOfConfig":"45"},{"size":1065,"mtime":1610399523870,"results":"78","hashOfConfig":"45"},{"size":2316,"mtime":1610254558754,"results":"79","hashOfConfig":"45"},{"size":1413,"mtime":1610337568569,"results":"80","hashOfConfig":"45"},{"size":1204,"mtime":1610337498429,"results":"81","hashOfConfig":"45"},{"size":813,"mtime":1610335820583,"results":"82","hashOfConfig":"45"},{"size":5072,"mtime":1610424555790,"results":"83","hashOfConfig":"45"},{"size":475,"mtime":1610283821324,"results":"84","hashOfConfig":"45"},{"size":1419,"mtime":1610407480742,"results":"85","hashOfConfig":"45"},{"size":651,"mtime":1610407409920,"results":"86","hashOfConfig":"45"},{"size":1391,"mtime":1610380185009,"results":"87","hashOfConfig":"45"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},"1qyhxtr",{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"98"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"109"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"119"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"160"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"94"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"94"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"94"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"186","messages":"187","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"94"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"109"},"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\App.jsx",["194"],"import React from 'react'\r\nimport useSWR from 'swr'\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport MainPage from 'pages/main'\r\nimport StudentPage from 'pages/student-page'\r\nimport AuthPage from 'pages/auth'\r\n\r\n\r\nexport default function App() {\r\n\t\r\n\tconst { data } = useSWR('/api')\r\n\t\r\n\tif(!data) return <div></div>\r\n\t\r\n\tif(data.error)\r\n\t\treturn <AuthPage/>\r\n\r\n\tif(data.role === 'teacher')\r\n\t\treturn <MainPage user={data}/>\r\n\t\r\n\treturn <StudentPage user={data}/>\r\n\r\n}\r\n",["195","196"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\gallery.jsx",[],["197","198"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\segment.jsx",["199","200"],"import React, { useState, useEffect, useRef } from 'react'\r\nimport cn from 'classnames'\r\n\r\nexport default function Segment ({className, options, form, name, style }) {\r\n\t\r\n\tconst [ cursorStyle, setCursorStyle ] = useState(options.length === 2?null: { width: 100/options.length + '%' });\r\n\tconst ref = useRef(null);\r\n\r\n\tconst value = form.values.get(name);\r\n\r\n\tuseEffect(() => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t//Не то, чтобы это было прям изящно, но, думаю, пойдет\r\n\t\tif(ref.current){\r\n\t\t\tconst rect = ref.current.getBoundingClientRect()\r\n\t\t\tconst offset = ref.current.offsetLeft\r\n\r\n\t\t\tsetCursorStyle({ ...cursorStyle, left: offset });\r\n\t\t}\r\n\t}, [ value ]);\r\n\r\n\r\n\tconst button = (item, index) => (\t\t\t\t\t\t//С помощью этой функции сделаем полиморфизм\r\n\r\n\t\t<button key={index} className={ cn({ \"active\": value === index }) }  ref={value === index? ref: null } onClick={(e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tform.onChange( { [name]: index } );\r\n\t\t}}>{item}</button>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={cn(className, 'segment')} style={style}>\r\n\t\t\t{ Array.isArray(options)? options.map(button) : Object.keys(options).map(key => button(options[key], key)) }\r\n\t\t\t{cursorStyle && (<div className=\"cursor\"  style={cursorStyle}></div>)}\r\n\t\t</div>\r\n\t);\r\n}",["201","202"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\input.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\reportWebVitals.js",[],["203","204"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\textarea.jsx",[],["205","206"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\checkbox.jsx",[],["207","208"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\image.jsx",["209"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\register.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\login.jsx",["210"],"import React from 'react'\r\nimport { useForm, Input, Segment } from 'controls';\r\nimport { Link } from 'react-router-dom'\r\nimport { REST } from 'libs/fetch'\r\nimport { mutate } from 'swr';\r\n\r\nexport default function LoginPage() {\r\n\r\n\tconst form = useForm();\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst values = form.values.toObject()\r\n\t\tif(!values.email || !values.password) return\r\n\r\n\t\tconst response = await REST('/api/login', values, 'POST')\r\n\r\n\t\tif(response.error) return form.setErrors(response.error)\r\n\t\tmutate('/api')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"flex-center\">\r\n\t\t\t<h1>StudyTracker</h1>\r\n\t\t\t<h2 className=\"text-center\">Войдите в ваш аккаунт, чтобы<br/>получить доступ к учебной работе</h2>\r\n\t\t\t<form className=\"form thin text-center\" style={{marginTop: \"15px\"}} onSubmit={onSubmit}>\r\n\t\t\t\t<Input name=\"email\" form={form} className=\"filled\"  placeholder=\"Email\"/>\r\n\t\t\t\t<Input name=\"password\" type=\"password\"  form={form} className=\"filled\" placeholder=\"Пароль\"/>\r\n\t\t\t\t<button className=\"button-stroked\">Войти</button>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"h-line\"></div>\r\n\t\t\t\t<div className=\"small gray\">У вас еще нет аккаунта?</div>\r\n\t\t\t\t<Link to=\"/register\" className=\"button\" style={{padding: 0, marginTop: '0.7em'}}>Создайте аккаунт прямо сейчас</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n",["211","212"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\fetch.js",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\auth\\confirm.jsx",["213","214"],"import React from 'react'\r\nimport { useForm, Input, Segment } from 'controls';\r\nimport { Link, useParams, useHistory } from 'react-router-dom'\r\nimport useSWR, { mutate } from 'swr'\r\nimport { GET, REST } from 'libs/fetch'\r\n\r\nexport default function LoginPage() {\r\n\r\n\tconst history = useHistory();\r\n\tconst form = useForm();\r\n\r\n\tconst { token } = useParams()\r\n\tconst { data } = useSWR('/api/confirm/'+token, GET)\r\n\r\n\tif(!data)\r\n\t\treturn (<div></div>)\r\n\r\n\tif(data.error && data.error === 'wrong token')\r\n\t\treturn (\r\n\t\t\t<div className=\"flex-center\">\r\n\t\t\t\t<h1>StudyTracker</h1>\r\n\t\t\t\t<h2>Ваша ссылка не действительна</h2>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\t\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tif(!form.get('password') || form.get('password').length < 6)\r\n\t\t\treturn form.setErrors({ 'password': 'Пароль слишком короткий' })\r\n\t\tif(form.get('password') !== form.get('repeat-password'))\r\n\t\t\treturn form.setErrors({ 'repeat-password': 'Пароли не совпадают' })\r\n\t\t\r\n\t\tconst resp = await REST('/api/confirm/'+token, form.values.toObject(), 'POST')\r\n\t\t\r\n\t\tif(resp.count === 1){\r\n\t\t\tmutate('/api')\r\n\t\t\thistory.push('/')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"flex-center\">\r\n\t\t\t<h1>StudyTracker</h1>\r\n\t\t\t<h2 className=\"text-center\">Теперь придумайте себе пароль, {data.name}</h2>\r\n\t\t\t<form className=\"form thin text-center\" style={{marginTop: \"15px\"}} onSubmit={onSubmit}>\r\n\t\t\t\t<Input name=\"password\" type=\"password\"  form={form} className=\"filled\" placeholder=\"Пароль\"/>\r\n\t\t\t\t<Input name=\"repeat-password\" type=\"password\"  form={form} className=\"filled\" placeholder=\"Повторите пароль\"/>\r\n\t\t\t\t<button className=\"button-stroked\">Создать аккаунт</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\youtube.js",["215","216"],"import { IoIosPlayCircle } from 'react-icons/io'\r\n\r\nconst paramExp = /[\\?&]v=(.+?)(&.+)?\\/?$/\t\t\t\t\t//https://www.youtube.com/watch?v=RNAMNX2aUQo\r\nconst urlExp = /(.be\\/|.com\\/)(.+?)(\\?.+)?\\/?$/\t\t\t//https://youtu.be/RNAMNX2aUQo\r\n\r\nexport const getId = (url) => {\r\n\r\n\tlet res = (url).match(paramExp);\r\n\tif(res)\r\n\t\treturn res[1];\r\n\t\r\n\tres = url.match(urlExp);\r\n\tif(res)\r\n\t\treturn res[2];\r\n\r\n\treturn '';\r\n}\r\n\r\nexport const getPreview = (id) => {\r\n\treturn `https://img.youtube.com/vi/${id}/0.jpg`\r\n}\r\n\r\nexport function YoutubePreview ({id}){\r\n\tconsole.log(id)\r\n\treturn (\r\n\t\t<div className=\"youtube-preview\" style={{backgroundImage: `url(${getPreview(id)})`}}>\r\n\t\t\t\t<a href={\"https://www.youtube.com/watch?v=\"+id} target=\"_blank\"><IoIosPlayCircle/></a>\r\n\t\t</div>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\layout.jsx",["217"],"import \"styles/layout.sass\"\r\nimport React from 'react'\r\n\r\nimport { ModalWrapper } from 'components/modal-window'\r\nimport { Router, useLocation } from 'components/router'\r\n\r\nexport default function Layout ({children, tree}){\r\n\r\n\treturn (\r\n\t\t<ModalWrapper className=\"main\">\r\n\t\t\t<Router>\r\n\t\t\t\t<LayoutInner tree={tree}/>\r\n\t\t\t\t{children}\r\n\t\t\t</Router>\r\n\t\t</ModalWrapper>\r\n\t)\r\n}\r\n\r\nexport function LayoutInner ({tree, level}){\r\n\r\n\tconst { state, get } = useLocation()\r\n\r\n\tconst key = get(level)\r\n\r\n\tconst next = key? (tree[key] || tree._): null\t\t\t\t\t//Вот здесь мы выбираем следующий компонент для рендера\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ tree.component }\r\n\t\t\t{ next && <LayoutInner tree={next} level={level+1}/> }\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nLayoutInner.defaultProps = {\r\n\tlevel: 0\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-media.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\main\\index.jsx",["218"],"import React from 'react'\r\n\r\nimport Layout from 'components/layout'\r\nimport { IoIosList, IoMdSchool, IoMdPeople } from 'react-icons/io'\r\nimport LeftMenu from \"blocks/left-menu\"\r\n\r\nimport SubjectsList from 'blocks/list/subjects'\r\nimport LabsList from 'blocks/list/labs'\r\nimport GroupsList from 'blocks/list/groups'\r\nimport StudentsList from 'blocks/list/students'\r\nimport CommitGroupList from 'blocks/list/commit-groups'\r\nimport CommitsList from 'blocks/list/commit-list'\r\nimport Commits from 'blocks/commits.jsx'\r\n\r\nconst menu = [\r\n\t{ title: \"Успеваемость\", to: \"progress\", icon: <IoIosList/> },\r\n\t{ title: \"Дисциплины\", to: \"subjects\", icon: <IoMdSchool/> },\r\n\t{ title: \"Группы\", to: \"groups\", icon: <IoMdPeople/> }\r\n]\r\n\r\nconst { pathname } = window.location;\r\n\r\nexport default function MainPage ({user}){\r\n\t\r\n\t/*Ключи - это роуты\r\n\t_ - это дефолтный роут\r\n\tcomponent - отображаемый компонент\r\n\tостальные ключи - это прочие роуты\r\n\t*/\r\n\tconst tree = {\r\n\t\tcomponent: <LeftMenu user={user} menu={menu}/>,\r\n\t\tprogress: {\r\n\t\t\tcomponent: <CommitGroupList/>,\r\n\t\t\t_: {\r\n\t\t\t\tcomponent: <CommitsList/>,\r\n\t\t\t\t_: {\r\n\t\t\t\t\tcomponent: <Commits/>\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubjects: {\r\n\t\t\tcomponent: <SubjectsList/>,\r\n\t\t\t_: {\r\n\t\t\t\tcomponent: <LabsList/>\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tgroups: {\r\n\t\t\tcomponent: <GroupsList/>,\r\n\t\t\t_: {\r\n\t\t\t\tcomponent: <StudentsList/>\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<Layout tree={tree}>\r\n\t\t\t\r\n\t\t</Layout>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-form.jsx",["219"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\left-menu.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-confirm.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\rus.js",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\router\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\subjects.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\index.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\labs.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\constants.js",[],["220","221"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\segment-flat.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\groups.jsx",["222","223"],"import List from './index'\r\nimport { openModal, openModalConfirm } from 'components/modal-window'\r\nimport { GET, toREST } from 'libs/fetch'\r\nimport useSWR, { mutate } from 'swr'\r\nimport { useLocation } from 'components/router'\r\nimport { workTypes } from 'libs/constants'\r\n\r\nimport { IoMdCreate, IoMdTrash, IoIosClose } from 'react-icons/io'\r\nimport { useMemo } from 'react'\r\nimport { num } from 'libs/rus'\r\n\r\nconst tabs = {\r\n\town: \"Создать новую\",\r\n\tother: \"Добавить через старосту\"\r\n}\r\n\r\nconst tabsStudents = {\r\n\town: \"Создать свою\",\r\n\tother: \"Добавиться в уже созданную\"\r\n}\r\n\r\n\r\nconst modalGroups = {\r\n\ttab: { type: \"segment\", options: tabs, style: { fontSize: \"0.95em\" } },\r\n\ttitle: { type: \"text\", label: \"Название группы\", placeholder: \"Группа 21-1б\", visible: form => form.get('tab') === 'own' },\r\n\temail: { type: \"text\", label: \"Email старосты\", placeholder: \"Email старосты\", visible: form => form.get('tab') === 'other' },\r\n\temailLabel: { \r\n\t\ttype: \"label\", \r\n\t\tlabel: \"Старосте группы придет уведомление с предложением записать группу на ваш курс\",\r\n\t\tvisible: form => form.get('tab') === 'other'\r\n\t},\r\n\tsubjects: { items: [], type: \"check-list\", label: \"Дисциплины\" }\r\n}\r\n\r\n\r\nconst modalGroupsStudent = {\r\n\ttab: { type: \"segment\", options: tabsStudents, style: { fontSize: \"0.95em\" } },\r\n\ttitle: { type: \"text\", label: \"Название группы\", placeholder: \"Группа 21-1б\", visible: form => form.get('tab') === 'own' },\r\n\temail: { type: \"text\", label: \"Email старосты\", placeholder: \"Email старосты\", visible: form => form.get('tab') === 'other' },\r\n\temailLabel: { \r\n\t\ttype: \"label\", \r\n\t\tlabel: \"Старосте группы придет уведомление с предложением записать вас в свою группу\",\r\n\t\tvisible: form => form.get('tab') === 'other'\r\n\t}\r\n}\r\n\r\nconst modalOwnGroups = {\r\n\ttitle: { type: \"text\", label: \"Название группы\", placeholder: \"Группа 21-1б\" },\r\n\tsubjects: { items: [], type: \"check-list\", label: \"Дисциплины\" }\r\n}\r\n\r\nconst modalOwnGroupsStudent = {\r\n\ttitle: { type: \"text\", label: \"Название группы\", placeholder: \"Группа 21-1б\" }\r\n}\r\n\r\nconst modalOtherGroups = {\r\n\tsubjects: { items: [], type: \"check-list\", label: \"Дисциплины\" }\r\n}\r\n\r\nconst groupGroups = {\r\n\town: \"Созданные вами группы\",\r\n\tother: \"Добавленные группы\",\r\n\tmy: \"Группы, в которых вы состоите\",\r\n\trequests: \"Ожидается подтверждение\"\r\n}\r\n\r\nconst map = item => ({ \r\n\t...item, \r\n\tsub: 'Изучает ' + num(item.subjects? item.subjects.length: 0, \"ваш предмет\", \"ваших предмета\", \"ваших предметов\") })\r\n\r\nconst mapStudent = item => ({ \r\n\t...item, \r\n\tsub: num(item.count? item.count: 0, \"студент\", \"студента\", \"студентов\") })\r\n\r\nconst mapObject = (data, callback) => {\r\n\tconst newObj = {}\r\n\tfor(let key in data)\r\n\t\tnewObj[key] = data[key].map(callback)\r\n\r\n\treturn newObj\r\n}\r\n\r\nexport default function GroupsList ({ isStudent }){\r\n\r\n\tconst { get, push, replace } = useLocation()\r\n\tconst selected = get(1)\r\n\r\n\tconst url = '/api/groups/'\r\n\r\n\tconst { data: subjects } = useSWR('/api/subjects', GET)\r\n\r\n\tif(subjects){\r\n\t\tmodalGroups.subjects.items = subjects\r\n\t\tmodalOwnGroups.subjects.items = subjects\r\n\t\tmodalOtherGroups.subjects.items = subjects\r\n\t}\r\n\t\r\n\tconst { data } = useSWR(url, GET)\r\n\tconst mapData = useMemo(() => data? mapObject(data, isStudent? mapStudent: map): {}, [ data ])\r\n\r\n\tconst addWork = () => {\r\n\t\topenModal(\"Добавление группы\", isStudent? modalGroupsStudent: modalGroups, values => {\r\n\t\t\tlet _url\r\n\t\t\tif(values.tab === 'own')\t_url = '/api/groups/own'\r\n\t\t\tif(values.tab === 'other')\t_url = '/api/groups/other'\r\n\r\n\t\t\tif(url)\ttoREST(_url, 'POST', url)(values)\r\n\r\n\t\t}, { tab: \"own\" })\r\n\t}\r\n\r\n\tconst editOwnGroup = (group) => {\r\n\t\tconst mutateGroup = (resp) => {\r\n\t\t\tif(group.url === selected)\r\n\t\t\t\treplace(resp.url, 1)\r\n\t\t\tmutate(url)\r\n\t\t}\r\n\t\topenModal(\"Изменение группы\", isStudent? modalOwnGroupsStudent: modalOwnGroups, toREST(url+group.url, 'PUT', mutateGroup), group)\r\n\t}\r\n\t\r\n\tconst editOtherGroup = (group) => {\r\n\t\topenModal(\"Изменение дисциплин\", modalOtherGroups, toREST(url+group.url, 'PUT', url), group)\r\n\t}\r\n\t\r\n\tconst deleteGroup = (group) => {\r\n\t\topenModalConfirm(\"Удалить группу из списка?\", group.title, toREST(url+group.url, 'DELETE', url))\r\n\t}\r\n\r\n\tconst deleteRequest = (group) => {\r\n\t\topenModalConfirm(\"Отозвать заявку?\", group.title, toREST(url+group.url, 'DELETE', url))\r\n\t}\r\n\r\n\tconst exitGroup = (group) => {\r\n\t\topenModalConfirm(\"Выйти из группы?\", group.title, toREST(url+group.url, 'DELETE', url))\r\n\t}\r\n\t\r\n\tconst menuItems = {\r\n\t\town: [\r\n\t\t\t{ title: \"Редактировать группу\", icon: <IoMdCreate/>, onClick: editOwnGroup },\r\n\t\t\t{ title: \"Удалить группу\", icon: <IoMdTrash/>, onClick: deleteGroup }\r\n\t\t],\r\n\t\tother: [\r\n\t\t\t{ title: \"Изменить дисциплины\", icon: <IoMdCreate/>, onClick: editOtherGroup },\r\n\t\t\t{ title: \"Убрать группу\", icon: <IoMdTrash/>, onClick: deleteGroup }\r\n\t\t],\r\n\t\trequests: [\r\n\t\t\t{ title: \"Отозвать заявку\", icon: <IoMdTrash/>, onClick: deleteRequest }\r\n\t\t],\r\n\t\tmy: [\r\n\t\t\t{ title: \"Уйти из группы\", icon: <IoIosClose/>, onClick: exitGroup }\r\n\t\t]\r\n\t}\r\n\t\r\n\tconst onSelectItem = (item) => {\r\n\t\tpush(item.url, 1)\r\n\t}\r\n\t\r\n\r\n\treturn (\r\n\t\t<List\r\n\t\t\tkeyProp=\"url\"\r\n\t\t\tonSelect={onSelectItem} \r\n\t\t\tselected={selected}\r\n\t\t\ttitle=\"Группы\" \r\n\t\t\titems={mapData} \r\n\t\t\tmenuItems={menuItems} \r\n\t\t\tonAdd={subjects && addWork}\r\n\t\t\taddTitle=\"Добавить\"\r\n\t\t\tgroups={groupGroups}\r\n\t\t/>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\label.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\check-list.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\components\\modal-window\\modal-profile.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\students.jsx",["224"],"import List from './index'\r\nimport { openModal, openModalConfirm } from 'components/modal-window'\r\nimport { GET, toREST } from 'libs/fetch'\r\nimport useSWR, { mutate } from 'swr'\r\nimport { useLocation } from 'components/router'\r\nimport { workTypes } from 'libs/constants'\r\n\r\nimport { IoMdCreate, IoMdTrash } from 'react-icons/io'\r\nimport { useMemo } from 'react'\r\n\r\n\r\nconst modalStudent = {\r\n\tsurname: { type: \"text\", label: \"Фамилия\", placeholder: \"Фамилия студента\" },\r\n\tname: { type: \"text\", label: \"Имя\", placeholder: \"Имя студента\" },\r\n\temail: { type: \"email\", label: \"Email (необязательно)\", placeholder: \"Email студента\" },\r\n\temailLabel: { type: \"label\", label: \"Студенту придет письмо на почту со ссылкой для регистрации аккаунта\" }\r\n}\r\n\r\nconst map = item => ({ ...item, title: item.surname + \" \" + item.name, sub: item.email })\r\n\r\nexport default function LabsList (){\r\n\r\n\tconst { get, push, replace } = useLocation()\r\n\tconst group = get(1)\r\n\tconst selected = get(2)\r\n\r\n\tconst url = '/api/groups/'+group+'/'\r\n\r\n\tconst { data } = useSWR(url, GET)\r\n\tconst mapData = useMemo(() => data? data.map(map): [], [ data ])\r\n\r\n\tconst addWork = () => {\r\n\t\topenModal(\"Добавление студента\", modalStudent, toREST(url), { type: \"other\" })\r\n\t}\r\n\t\r\n\tconst editWork = (work) => {\r\n\t\tconst mutateWork = (resp) => {\r\n\t\t\tif(work.url === selected)\r\n\t\t\t\treplace(resp.url, 2)\r\n\t\t\tmutate(url)\r\n\t\t}\r\n\t\topenModal(\"Редактирование студента\", modalStudent, toREST(url+work.url, 'PUT', mutateWork), work)\r\n\t}\r\n\t\r\n\tconst deleteWork = (student) => {\r\n\t\topenModalConfirm(\"Удалить студента из группы?\", student.title, toREST(url+student.id, 'DELETE', url))\r\n\t}\r\n\t\r\n\t\r\n\tconst menuItems = [\r\n\t\t{ title: \"Изменить данные\", icon: <IoMdCreate/>, onClick: editWork },\r\n\t\t{ title: \"Удалить из группы\", icon: <IoMdTrash/>, onClick: deleteWork }\r\n\t]\r\n\t\r\n\tconst onSelectItem = (item) => {\r\n\t\tpush(item.id, 2)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<List\r\n\t\t\tkeyProp=\"id\"\r\n\t\t\tonSelect={onSelectItem} \r\n\t\t\tselected={selected}\r\n\t\t\ttitle=\"Студенты\" \r\n\t\t\titems={mapData} \r\n\t\t\tmenuItems={menuItems} \r\n\t\t\taddTitle=\"Добавить\"\r\n\t\t\tonAdd={addWork}\r\n\t\t/>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\pages\\student-page.jsx",["225","226","227"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\commit-groups.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\commit-list.jsx",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\commits.jsx",["228","229","230"],"import { useState, useMemo } from 'react'\r\nimport { openModal } from 'components/modal-window'\r\nimport useSWR from 'swr'\r\nimport { GET, toREST } from 'libs/fetch'\r\nimport { shorten, getTime } from 'libs/rus'\r\nimport { useLocation } from 'components/router'\r\nimport cn from 'classnames'\r\n\r\nimport { Set } from 'immutable'\r\n\r\nimport { IoCreateOutline, IoAttach } from 'react-icons/io5'\r\n\r\nconst markComments = [\r\n\t'Без оценки, просто комментарий',\r\n\t'Неудволетворительно',\r\n\t'Удволетворительно',\r\n\t'Хорошо',\r\n\t'Отлично'\r\n]\r\n\r\nconst markCommentsShorten = [\r\n\t'',\r\n\t'',\r\n\t'Неуд',\r\n\t'Удв',\r\n\t'Хор',\r\n\t'Отл'\r\n]\r\n\r\nconst modalCommit = {\r\n\twork: { type: \"works\" },\r\n\tselectedWork: { type: \"label-mutable\", label: \"Выбранная работа: \", defaultValue: \"Не выбрано\" },\r\n\tmark: { type: \"segment-2\", options: [ 'Без оценки', 2, 3, 4, 5 ] },\r\n\tselectedMark: { type: \"label-mutable\", label: \"Оценка: \", defaultValue: markComments[0] },\r\n\ttext: { type: \"textarea\", rows: 5, placeholder: \"Комментарий по данной работе...\" },\r\n\tfiles: { type: \"file\", label: \"Прикрепленный файл\" },\r\n}\r\n\r\nconst modalCommitStudent = {\r\n\twork: { type: \"works\" },\r\n\tselectedWork: { type: \"label-mutable\", label: \"Выбранная работа: \", defaultValue: \"Не выбрано\" },\r\n\tfiles: { type: \"file\", label: \"Прикрепленный файл\" },\r\n\ttext: { type: \"textarea\", rows: 5, placeholder: \"Комментарий по данной работе...\" },\r\n}\r\n\r\nfunction mapWorks(works){\r\n\tconst obj = {}\r\n\tif(!works) return obj\r\n\r\n\tfor(let item of works)\r\n\t\tobj[item.id] = shorten(item.title)\r\n\r\n\treturn obj\r\n}\r\n\r\nexport default function Commits ({isStudent}){\r\n\t\r\n\tconst [ selectedWork, setSelectedWork ] = useState(-1)\r\n\tconst { get } = useLocation()\r\n\r\n\tconst url = isStudent === true?'/api/progress/'+get(1): '/api/progress/'+get(1)+'/'+get(2)+'/'\r\n\r\n\tconst { data } = useSWR(url, GET)\r\n\r\n\tconst commits = data? data.commits: []\r\n\tconst filterCommits = useMemo(\r\n\t\t() => selectedWork < 0?commits: commits.filter(commit => selectedWork === commit.work_id) , \r\n\t\t[ commits, selectedWork ]\r\n\t)\r\n\r\n\tmodalCommitStudent.work.items = modalCommit.work.items = useMemo(() => mapWorks(data && data.works), [ data ])\r\n\tmodalCommitStudent.work.onChange = modalCommit.work.onChange = (val, form) => {\r\n\t\tform.onChange({ selectedWork: data.works.find(item => item.id === val)?.title })\r\n\t}\r\n\r\n\tmodalCommit.mark.onChange = (val, form) => {\r\n\t\tform.onChange({ selectedMark: markComments[val] })\r\n\t}\r\n\t\t\r\n\tconst openCommitModal = () => {\r\n\t\topenModal(\r\n\t\t\t\"Оценить работу\", isStudent === true?modalCommitStudent: modalCommit, \r\n\t\t\ttoREST(url, 'POST'), \r\n\t\t\t{ mark: 0, work: selectedWork < 0? undefined: selectedWork }\r\n\t\t)\r\n\t}\r\n\r\n\tif(!data || data.error) return <div className=\"list commits\"></div>\r\n\r\n\t\r\n\tconst selectLab = (lab_id) => {\r\n\t\tif(selectedWork == lab_id)\r\n\t\t\tsetSelectedWork(-1)\r\n\t\telse\r\n\t\t\tsetSelectedWork(lab_id)\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"list commits\">\r\n\t\t\t<div className=\"list-header\">\r\n\t\t\t\t{isStudent?(\r\n\t\t\t\t\t<h3>{data.subject.title}</h3>\r\n\t\t\t\t):(\r\n\t\t\t\t\t<h3>{data.student.surname + ' '+ data.student.name}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"label\">Работы по предмету</div>\r\n\t\t\t<div className=\"works-control\">\r\n\t\t\t\t{ data.works.filter(item => !item.handed).map(lab => (\r\n\t\t\t\t\t<button className={cn(selectedWork === lab.id && \"active\")} key={lab.id} title={lab.title} onClick={() => selectLab(lab.id)}>\r\n\t\t\t\t\t\t{shorten(lab.title)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)) }\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t<div className=\"label\">Сданные работы</div>\r\n\t\t\t<div className=\"works-control\">\r\n\t\t\t\t{ data.works.filter(item => item.handed).map(lab => (\r\n\t\t\t\t\t<button className={cn(selectedWork === lab.id && \"active\")} key={lab.id} title={lab.title} onClick={() => selectLab(lab.id)}>\r\n\t\t\t\t\t\t{shorten(lab.title) + ' (' + markCommentsShorten[lab.mark] + '.)'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)) }\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className=\"button-filled\" onClick={openCommitModal}>\r\n\t\t\t\t<IoCreateOutline/>\r\n\t\t\t\t{isStudent === true?'Отправить работу': 'Оценить работу'}\r\n\t\t\t</button>\r\n\r\n\t\t\t<ul>\r\n\t\t\t{ filterCommits.map(commit => <Commit key={commit.id} {...commit}/>) }\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction Commit ({ title, name, surname, avatar, files, text, timestep, mark }){\r\n\r\n\tconst fullTitle = mark? (title + '. Оценка: '+mark) : title\r\n\r\n\treturn (\r\n\t\t<li className=\"commit\">\r\n\t\t\t<div className=\"commit-time\">{ getTime(timestep) }</div>\r\n\t\t\t<div className={cn(\"commit-title\", mark && \"primary\")}>{ fullTitle }</div>\r\n\t\t\t{text && <div className=\"commit-text\">{ text }</div>}\r\n\t\t\t{ files && files.map(file => (\r\n\t\t\t\t<a className=\"file-link\" key={file} href={file.src} download={file.name}><IoAttach/>{file.name}</a>\r\n\t\t\t))}\r\n\t\t\t<div className=\"commit-profile\">\r\n\t\t\t\t<div>{name}</div>\r\n\t\t\t\t<img src={avatar || \"/images/icon.svg\"} alt={name}/>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\works.jsx",["231"],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\controls\\file.jsx",["232"],"import { useRef } from 'react'\r\nimport cn from 'classnames'\r\nimport { sendFile } from 'libs/upload'\r\n\r\nimport { IoCloudUploadOutline, IoDocument, IoCloseOutline } from 'react-icons/io5'\r\n\r\nexport default function FileControl ({label, form, name}){\r\n\t\r\n\tconst fileRef = useRef()\r\n\tconst values = form.get(name) || []\r\n\r\n\tconst onFileChange = async (e) => {\r\n\t\tconst file = e.target.files[0]\r\n\t\tif(!file) return\r\n\t\te.target.value = \"\"\r\n\r\n\t\tconst { src } = await sendFile(file, '/api/upload')\r\n\t\tform.onChange({ [name]: [...values, { name: file.name, src }] })\r\n\t}\r\n\r\n\tconst deleteFile = (src) => {\r\n\t\tform.onChange({ [name]: values.filter(item => item.src !== src) })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"file\">\r\n\t\t\t<input type=\"file\" style={{display: \"none\"}} onChange={onFileChange} ref={fileRef} name={name}/>\r\n\t\t\t{label && <label>{label}</label>}\r\n\t\t\t<div className=\"files-list\">\r\n\t\t\t\t{values.map(item => (\r\n\t\t\t\t\t<div className=\"file-item\" key={item.src}>\r\n\t\t\t\t\t\t<IoDocument/>{item.name}\r\n\t\t\t\t\t\t<button className=\"delete-button\" title=\"Отменить отправку файла\" onClick={() => deleteFile(item.src)}>\r\n\t\t\t\t\t\t\t<IoCloseOutline/>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t\t<button className=\"button-stroked\" onClick={() => fileRef.current.click()}>\r\n\t\t\t\t\t<IoCloudUploadOutline/>{values.length === 0?'Загрузить файл': 'Добавить файл'}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\libs\\upload.js",[],"C:\\Users\\fox\\Desktop\\Study\\study-tracker\\frontend\\src\\blocks\\list\\progress.jsx",["233","234","235"],"import List from './index'\r\nimport { openModal, openModalConfirm } from 'components/modal-window'\r\nimport { GET, toREST } from 'libs/fetch'\r\nimport useSWR from 'swr'\r\nimport { useLocation } from 'components/router'\r\nimport { useMemo } from 'react'\r\nimport { num } from 'libs/rus'\r\n\r\nconst map = item => ({ \r\n\t...item, \r\n\tid: item.subject_id+'-'+item.group_id, \r\n\ttitle: item.subject_title,\r\n\tsub: num(item.count, 'работа', 'работы', 'работ') + ' / ' + item.handed_count + ' сдано'\r\n})\r\n\r\nfunction mapObject (data) {\r\n\r\n\tif(!data) return { groups: {}, mapData: {}}\r\n\r\n\tconst groups = {}\r\n\tconst mapData = {}\r\n\r\n\tconsole.log(data)\r\n\r\n\tfor(let item of data.groups){\r\n\t\tgroups[item.url] = item.title\r\n\t\tmapData[item.url] = []\r\n\t}\r\n\r\n\tfor(let subject of data.subjects)\r\n\t\tmapData[subject.group_url].push(map(subject))\r\n\t\r\n\r\n\treturn { groups, mapData }\r\n}\r\n\r\n\r\nexport default function ProgressList (){\r\n\tconst { get, push } = useLocation()\r\n\tconst selected = get(1)\r\n\r\n\tconst url = '/api/progress'\r\n\r\n\tconst { data } = useSWR(url, GET)\r\n\tconst { groups, mapData } = useMemo(() => mapObject(data), [ data ])\r\n\r\n\tconst onSelectItem = (item) => {\r\n\t\tpush(item.subject_url, 1)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<List\r\n\t\t\tkeyProp=\"subject_url\"\r\n\t\t\tonSelect={onSelectItem} \r\n\t\t\tselected={selected}\r\n\t\t\tgroups={groups}\r\n\t\t\ttitle=\"Ваши дисциплины\" \r\n\t\t\titems={mapData} \r\n\t\t/>\r\n\t)\r\n}",{"ruleId":"236","severity":1,"message":"237","line":4,"column":27,"nodeType":"238","messageId":"239","endLine":4,"endColumn":33},{"ruleId":"240","replacedBy":"241"},{"ruleId":"242","replacedBy":"243"},{"ruleId":"240","replacedBy":"244"},{"ruleId":"242","replacedBy":"245"},{"ruleId":"236","severity":1,"message":"246","line":13,"column":10,"nodeType":"238","messageId":"239","endLine":13,"endColumn":14},{"ruleId":"247","severity":1,"message":"248","line":18,"column":5,"nodeType":"249","endLine":18,"endColumn":14,"suggestions":"250"},{"ruleId":"240","replacedBy":"251"},{"ruleId":"242","replacedBy":"252"},{"ruleId":"240","replacedBy":"253"},{"ruleId":"242","replacedBy":"254"},{"ruleId":"240","replacedBy":"255"},{"ruleId":"242","replacedBy":"256"},{"ruleId":"240","replacedBy":"257"},{"ruleId":"242","replacedBy":"258"},{"ruleId":"236","severity":1,"message":"259","line":1,"column":25,"nodeType":"238","messageId":"239","endLine":1,"endColumn":33},{"ruleId":"236","severity":1,"message":"260","line":2,"column":26,"nodeType":"238","messageId":"239","endLine":2,"endColumn":33},{"ruleId":"240","replacedBy":"261"},{"ruleId":"242","replacedBy":"262"},{"ruleId":"236","severity":1,"message":"260","line":2,"column":26,"nodeType":"238","messageId":"239","endLine":2,"endColumn":33},{"ruleId":"236","severity":1,"message":"263","line":3,"column":10,"nodeType":"238","messageId":"239","endLine":3,"endColumn":14},{"ruleId":"264","severity":1,"message":"265","line":3,"column":20,"nodeType":"266","messageId":"267","endLine":3,"endColumn":21,"suggestions":"268"},{"ruleId":"269","severity":1,"message":"270","line":27,"column":53,"nodeType":"271","endLine":27,"endColumn":68},{"ruleId":"236","severity":1,"message":"272","line":21,"column":10,"nodeType":"238","messageId":"239","endLine":21,"endColumn":15},{"ruleId":"236","severity":1,"message":"273","line":21,"column":9,"nodeType":"238","messageId":"239","endLine":21,"endColumn":17},{"ruleId":"236","severity":1,"message":"274","line":1,"column":17,"nodeType":"238","messageId":"239","endLine":1,"endColumn":26},{"ruleId":"240","replacedBy":"275"},{"ruleId":"242","replacedBy":"276"},{"ruleId":"236","severity":1,"message":"277","line":6,"column":10,"nodeType":"238","messageId":"239","endLine":6,"endColumn":19},{"ruleId":"247","severity":1,"message":"278","line":99,"column":87,"nodeType":"249","endLine":99,"endColumn":95,"suggestions":"279"},{"ruleId":"236","severity":1,"message":"277","line":6,"column":10,"nodeType":"238","messageId":"239","endLine":6,"endColumn":19},{"ruleId":"236","severity":1,"message":"280","line":2,"column":10,"nodeType":"238","messageId":"239","endLine":2,"endColumn":21},{"ruleId":"236","severity":1,"message":"281","line":5,"column":21,"nodeType":"238","messageId":"239","endLine":5,"endColumn":31},{"ruleId":"236","severity":1,"message":"273","line":20,"column":9,"nodeType":"238","messageId":"239","endLine":20,"endColumn":17},{"ruleId":"236","severity":1,"message":"282","line":9,"column":10,"nodeType":"238","messageId":"239","endLine":9,"endColumn":13},{"ruleId":"247","severity":1,"message":"283","line":65,"column":8,"nodeType":"284","endLine":65,"endColumn":40},{"ruleId":"285","severity":1,"message":"286","line":92,"column":19,"nodeType":"287","messageId":"288","endLine":92,"endColumn":21},{"ruleId":"285","severity":1,"message":"286","line":15,"column":43,"nodeType":"287","messageId":"288","endLine":15,"endColumn":45},{"ruleId":"236","severity":1,"message":"289","line":2,"column":8,"nodeType":"238","messageId":"239","endLine":2,"endColumn":10},{"ruleId":"236","severity":1,"message":"290","line":2,"column":10,"nodeType":"238","messageId":"239","endLine":2,"endColumn":19},{"ruleId":"236","severity":1,"message":"291","line":2,"column":21,"nodeType":"238","messageId":"239","endLine":2,"endColumn":37},{"ruleId":"236","severity":1,"message":"292","line":3,"column":15,"nodeType":"238","messageId":"239","endLine":3,"endColumn":21},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","no-native-reassign",["293"],"no-negated-in-lhs",["294"],["293"],["294"],"'rect' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cursorStyle'. Either include it or remove the dependency array. You can also do a functional update 'setCursorStyle(c => ...)' if you only need 'cursorStyle' in the 'setCursorStyle' call.","ArrayExpression",["295"],["293"],["294"],["293"],["294"],["293"],["294"],["293"],["294"],"'useState' is defined but never used.","'Segment' is defined but never used.",["293"],["294"],"'Link' is defined but never used.","no-useless-escape","Unnecessary escape character: \\?.","Literal","unnecessaryEscape",["296","297"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","'state' is assigned a value but never used.","'pathname' is assigned a value but never used.","'useEffect' is defined but never used.",["293"],["294"],"'workTypes' is defined but never used.","React Hook useMemo has a missing dependency: 'isStudent'. Either include it or remove the dependency array.",["298"],"'useLocation' is defined but never used.","'IoMdSchool' is defined but never used.","'Set' is defined but never used.","The 'commits' conditional could make the dependencies of useMemo Hook (at line 68) change on every render. Move it inside the useMemo callback. Alternatively, wrap the initialization of 'commits' in its own useMemo() Hook.","VariableDeclarator","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'cn' is defined but never used.","'openModal' is defined but never used.","'openModalConfirm' is defined but never used.","'toREST' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"299","fix":"300"},{"messageId":"301","fix":"302","desc":"303"},{"messageId":"304","fix":"305","desc":"306"},{"desc":"307","fix":"308"},"Update the dependencies array to be: [cursorStyle, value]",{"range":"309","text":"310"},"removeEscape",{"range":"311","text":"312"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"313","text":"314"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [data, isStudent]",{"range":"315","text":"316"},[627,636],"[cursorStyle, value]",[71,72],"",[71,71],"\\",[3230,3238],"[data, isStudent]"]